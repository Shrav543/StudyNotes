{"_id":"HyRXXR2TU","title":"Http, Session, Cookies, Cache","dateCreated":1592735456152,"lastAccessed":"2020-06-21T10:30:56.156Z","lastUpdated":"2020-06-21T12:44:18.833Z","notebookId":"B1x1-0dJB","body":{"blocks":[{"key":"ag6qs","text":"Http, Session, Cookies, Cache","type":"header-one","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dm7su","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4muvr","text":"Http is stateless protocol.","type":"todo","depth":0,"inlineStyleRanges":[{"offset":0,"length":5,"style":"BOLD"},{"offset":8,"length":10,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"dkft0","text":"Session and Cookies make http stateful.","type":"todo","depth":0,"inlineStyleRanges":[{"offset":0,"length":8,"style":"BOLD"},{"offset":12,"length":27,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"ab4nj","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"30abv","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"62n3p","text":"HTTP - hyper text transfer protocol","type":"header-one","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5797d","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fhuvi","text":"1. http follows client - server ( request- response) model","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":2,"length":56,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"sf9o","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6l21b","text":"2. its stateless protocol - every transaction is independent","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":2,"length":23,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"brucf","text":"however we keep track of the state of the user using cookies + session (stateful management)","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cg3d4","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9pj29","text":"3. application layer protocol - http uses tcp","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":31,"length":14,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"dmr6u","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"158l1","text":"4. client actions come with - method get/post/delete/patch/put","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":3,"length":34,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"165qi","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2nmnn","text":"5. server status code - server response cide","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":3,"length":18,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"fdc6b","text":" that means if the request cant be served","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8p0lo","text":" ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c6r3l","text":" 6. Headers ","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":4,"length":8,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"eg5h9","text":" ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"arpgk","text":"                 HTTP headers let the client and the server pass additional information with an HTTP request or response ","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":17,"length":12,"style":"BOLD"},{"offset":38,"length":7,"style":"BOLD"},{"offset":53,"length":7,"style":"BOLD"},{"offset":65,"length":23,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"be3jh","text":"                 ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"et9b4","text":"                 ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6oe2b","text":"                Client header - Request header - content type :here you mention details that you want ","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":13,"length":17,"style":"BOLD"},{"offset":32,"length":14,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"tr94","text":"                                             like i want text file ,json ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"755nh","text":"                 ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ajbfd","text":"                Server header - Response header - like cache control - all headers are the custom bits of information that is sent \n                                             with the respose - like  cache or cookies ","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":15,"length":32,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"4l52p","text":"                ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"33p3e","text":"                ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3kqms","text":"General headers apply to both requests and responses, but with no relation to the data transmitted in the body.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":15,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"clq3t","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"19e6a","text":"Request headers contain more information about the resource to be fetched, or about the client requesting the resource.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":16,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"d7ie2","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fd15l","text":"Response headers hold additional information about the response, like its location or about the server providing it.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":17,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"amr5c","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6stnd","text":"Entity headers contain information about the body of the resource, like its content length or MIME type.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":14,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"dtto9","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bqlu8","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"81b4m","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d010p","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8tat5","text":"Example: Session Cookies Cache","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":30,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"8rkll","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bekph","text":"you go to starbuks. order coffee tell the specification.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":10,"length":8,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"472n5","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2uga9","text":"next time  you go there AGAIN you have to tell them all the details to get the coffee.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":24,"length":6,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"chieo","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a62nf","text":"This is stateless information transaction.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":8,"length":10,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"4lnn8","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2mfrl","text":"To make the interaction more Stateful to make starbucks remember my preferences.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":29,"length":9,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"9jp4q","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"frqq6","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2qc6o","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fv6ka","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dkk6l","text":"WEB BROWSER : WEBSERVER","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":23,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"61d3v","text":"YOU : STARBUCKS","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":15,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"4unvj","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5ua45","text":"starbucks gives you a ID card -cookies- client side for identification of my session, with this card you can give them an id to search for you previous orders and preferences.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":22,"length":29,"style":"BOLD"},{"offset":77,"length":7,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"5cpes","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4brcf","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a0ngl","text":"so when you make a request to the server along with that request you send them some information via cookie.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3ulsn","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"29psp","text":"cookie is about your preferences","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":32,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"b9dkl","text":"cache is about speed - your browser can keep local copies of the pages you view to speed up page requests. This local storage of pages is the \"cache\". A cache is an area of your hard drive that the browser uses to save frequently-fetched items, so they load faster when you need them.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":23,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"aallt","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"392lg","text":"A cookie is small piece of information stored on your computer by a website you visit. Every time the user loads the website, the browser sends the cookie back to the server to notify the website of the user’s previous activity. So you may notice the change in color of the links that you have clicked in past. Cookies have a certain life span defined by their creators. At the end of this, a cookie becomes expired. Cookies often track information like how frequently the user visits, what are the times of visits, what banners have been clicked on, what button clicked, user preferences, items in shopping cart, etc. This allows the site to present you with information customized to fit your needs. Cookies are usually used to store information needed for shorter periods.","type":"blockquote","depth":0,"inlineStyleRanges":[{"offset":2,"length":7,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"3uklq","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"37k4h","text":"A web cache (or HTTP cache) is an information technology for the temporary storage (caching) of web documents, such as HTML pages and images, to reduce bandwidth usage, server load, and perceived lag. A web cache system stores copies of documents passing through it; subsequent requests may be satisfied from the cache if certain conditions are met. A web cache system can refer either to an appliance, or to a software. For example, when you open some websites with large pictures and video’s, it might take a considerable amount of time for the website to load. The web browser stores the site contents like the images, videos, audio etc. on your computer so the next time you load the same website you will find it loading faster.","type":"blockquote","depth":0,"inlineStyleRanges":[{"offset":6,"length":6,"style":"BOLD"},{"offset":84,"length":7,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"1ck6b","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fi91j","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3dlm4","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6ddiq","text":"Sessions can be stored client or server side.","type":"blockquote","depth":0,"inlineStyleRanges":[{"offset":0,"length":9,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"ef18","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"33npo","text":"Because HTTP is stateless, in order to associate a request to any other request, you need a way to store user data between HTTP requests.","type":"blockquote","depth":0,"inlineStyleRanges":[{"offset":16,"length":9,"style":"BOLD"},{"offset":49,"length":31,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"90lhi","text":"Cookies or URL parameters ( for ex. like http://example.com/myPage?asd=lol&boo=no ) are both suitable ways to transport data between 2 or more request. However they are not good in case you don't want that data to be readable/editable on client side.","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ajsma","text":"The solution is to store that data server side, give it an \"id\", and let the client only know (and pass back at every http request) that id. There you go, sessions implemented. Or you can use the client as a convenient remote storage, but you would encrypt the data and keep the secret server-side.","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6r834","text":"Of course there are other aspects to consider, like you don't want people to hijack other's sessions, you want sessions to not last forever but to expire, and so on.","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cbeln","text":"In your specific example, the user id (could be username or another unique ID in your user database) is stored in the session data, server-side, after successful identification. Then for every HTTP request you get from the client, the session id (given by the client) will point you to the correct session data (stored by the server) that contains the authenticated user id - that way your code will know what user it is talking to.","type":"blockquote","depth":0,"inlineStyleRanges":[{"offset":26,"length":11,"style":"BOLD"},{"offset":101,"length":76,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"e4nbr","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"93ngu","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"36bdg","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ebbus","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d9jd4","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dckmm","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fi1p","text":"Imagine you are in a bank, trying to get some money out of your account. But it's dark; the bank is pitch black: there's no light and you can't see your hand in front of your face. You are surrounded by another 20 people. They all look the same. And everybody has the same voice. And everyone is a potential bad guy. In other words, HTTP is stateless.","type":"blockquote","depth":0,"inlineStyleRanges":[{"offset":333,"length":18,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"2kk7r","text":"","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7dbv","text":"This bank is a funny type of bank - for the sake of argument here's how things work:","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ba0o2","text":"","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6tgab","text":"you wait in line (or on-line) and you talk to the teller: you make a request to withdraw money, and then","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"649h4","text":"you have to wait briefly on the sofa, and 20 minutes later","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bcngu","text":"you have to go and actually collect your money from the teller.","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8ua7u","text":"But how will the teller tell you apart from everyone else?","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fq1dh","text":"The teller can't see or readily recognise you, remember, because the lights are all out. What if your teller gives your $10,000 withdrawal to someone else - the wrong person?! It's absolutely vital that the teller can recognise you as the one who made the withdrawal, so that you can get the money (or resource) that you asked for.","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"na7q","text":"","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"621rr","text":"Solution:","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5ccb1","text":"When you(client) first appear to the teller, he or she(server) tells you something in secret:","type":"blockquote","depth":0,"inlineStyleRanges":[{"offset":9,"length":6,"style":"BOLD"},{"offset":55,"length":6,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"24ebb","text":"\"When ever you are talking to me,\" says the teller, \"you should first identify yourlself as GNASHEU329 - that way I know it's you\".","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4jrsq","text":"Nobody else knows the secret passcode.","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"63lof","text":"","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9hae7","text":"Example of How I Withdrew Cash:","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5k9jm","text":"So I decide to go to and chill out for 20 minutes and then later i go to the teller and say \"I'd like to collect my withdrawal\"","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"21lr7","text":"The teller asks me: \"who are you??!\"","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"egmj7","text":"\"It's me, Mr George Banks!\"","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1npnv","text":"\"Prove it!\"","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ccq26","text":"And then I tell them my passcode: GNASHEU329","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1gg27","text":"\"Certainly Mr Banks!\"","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ctlpv","text":"That basically is how a session works. It allows one to be uniquely identified in a sea of millions of people. You need to identify yourself every time you deal with the teller.","type":"blockquote","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8t9hg","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6qffo","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f5ps6","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"53vcc","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}],"entityMap":{}},"tags":[]}
