{"_id":"SJZqLhMz68","title":"class based views for app","dateCreated":1592040529949,"lastAccessed":"2020-06-13T09:28:49.949Z","lastUpdated":"2020-06-14T11:29:23.903Z","notebookId":"SJTrjMM3U","body":{"blocks":[{"key":"ag6qs","text":"class based views for app","type":"header-one","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"30v6","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4cojo","text":"list view - all the videos","type":"todo","depth":0,"inlineStyleRanges":[{"offset":0,"length":26,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"a8sb3","text":"detail view - one particular video","type":"todo","depth":0,"inlineStyleRanges":[{"offset":0,"length":34,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"efbcq","text":"create view- to create a video","type":"todo","depth":0,"inlineStyleRanges":[{"offset":0,"length":30,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"8ot3o","text":"update view - update particular","type":"todo","depth":0,"inlineStyleRanges":[{"offset":0,"length":31,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"100ja","text":"delete view - delete particular","type":"todo","depth":0,"inlineStyleRanges":[{"offset":0,"length":31,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"9bfht","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1e8ri","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a73hj","text":"Class based view","type":"header-one","depth":0,"inlineStyleRanges":[{"offset":0,"length":16,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"6ch36","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8tsti","text":"1. ListView for listing all the objects:","type":"header-three","depth":0,"inlineStyleRanges":[{"offset":0,"length":11,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"1fn7f","text":"  class PostListView(ListView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dakmk","text":"  ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1f1ba","text":"                                  \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dangd","text":"                                   Corresponding template:  #<app>/<model>_<viewtype>.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":35,"length":24,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"en1tj","text":"                                       blog/post_list.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":39,"length":19,"style":"ITALIC"},{"offset":39,"length":19,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"76qkn","text":"                                   OR ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"amk1d","text":"                                    template_name = 'blog/home.html'","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":36,"length":13,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"2bug0","text":"                                    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ec3ju","text":"                                    Corresponding path:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":36,"length":19,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"1uc7d","text":"                                       path('', PostListView.as_view(), name='blog-home')","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":38,"length":51,"style":"BOLD"},{"offset":38,"length":51,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"715fq","text":"                                    \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3psc3","text":"    model = Post","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"asl9n","text":"    template_name = 'blog/home.html'","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"u7p","text":"                                \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2krfn","text":"                                    #either use the below or just go with object and object_list","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":74,"length":7,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"dkvdm","text":"                                    #   in the template to access model objects'","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cg11o","text":"                                    #this is the key we use in context or else we would have to ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f0dhm","text":"                                    # use name 'object_list'","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":48,"length":11,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"ciama","text":"                                \"\"\"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2ppeb","text":"    context_object_name = 'posts' #this will send the data as posts and not as object_list","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":62,"length":6,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"87ohb","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f3662","text":"       ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6r01g","text":"      \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"et28v","text":"        #to change the order this will latest to olders first by author and then by  date_posted       ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"etoik","text":"      \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1dv9i","text":"    ordering = ['author','date_posted'] ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"237dr","text":"    #ordering = ['-date_posted']  #this will oldest to eldest","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ffkkd","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bjk0k","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3vo37","text":"    #or alternatively you can have the following","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2cpkk","text":"    #have template named blog/post_list.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2rjdq","text":"    #use objectlist and object in template to access the post model objects","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"31aea","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"emihf","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1b17d","text":"    class PostListView(ListView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"582h3","text":"        model = Post","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2ahc2","text":"        ordering=['-date_posted']","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"iesf","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5keg4","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4fn3u","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c7q9b","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ev1t1","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"e44ei","text":"","type":"header-three","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1lajn","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"evp9v","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"11un2","text":"2. Detail View for particular post object:","type":"header-three","depth":0,"inlineStyleRanges":[{"offset":3,"length":11,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"2thdf","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"e2nb7","text":"class PostDetailView(DetailView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fq06b","text":"                       \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"29r50","text":"                    Corresponding template: #<app>/<modelname>_<viewtype>.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":20,"length":25,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"cjl2e","text":"                          blog/post_detail.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8q4uh","text":"                    Corresponding path:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":20,"length":19,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"9fck0","text":"                       path('post/<int:pk>/', PostDetailView.as_view(), name='post-detail')","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":22,"length":1,"style":"BOLD"},{"offset":22,"length":1,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"4crt5","text":"                    \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2leio","text":" model = Post","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8npdr","text":" ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5l6ng","text":" ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fchv3","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a08m1","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cs5gb","text":" 3. CreateView for creating new post objects","type":"header-three","depth":0,"inlineStyleRanges":[{"offset":3,"length":12,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"3l0kr","text":" ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9p60b","text":" ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"32dup","text":"class PostCreateView(LoginRequiredMixin, CreateView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":21,"length":18,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"5nhr6","text":"    #now if you wish to render form you need to create a template as <app>/model_form.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":31,"length":5,"style":"BOLD"},{"offset":75,"length":15,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"9drql","text":"                            \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1pur3","text":"                            Corresponding template:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":28,"length":23,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"ddp1k","text":"                               blog/post_form.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":36,"length":14,"style":"ITALIC"},{"offset":36,"length":14,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"3j2t0","text":"                           OR ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"eg7vf","text":"                           template_name = mycreateform.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":26,"length":34,"style":"BOLD"},{"offset":26,"length":34,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"dkgtb","text":"                            ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4dc8g","text":"                            Corresponding path:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":28,"length":19,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"6jotk","text":"                               path('post/new/', PostCreateView.as_view(), name='post-create'),","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":30,"length":65,"style":"BOLD"},{"offset":30,"length":65,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"ccqoa","text":"                            \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7vm4d","text":"    model = Post","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6tuh3","text":"    fields = ['content','title']","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f9ks4","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cv9jt","text":"                        \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3bus9","text":"                         #Here we need to set author of the post to the current user","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8360j","text":"                         #we need to check login ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"btt3g","text":"                         #import LoginRequiredMixin ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"btgpv","text":"                         \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8bgs1","text":"    def form_valid(self, form): ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1p95f","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a6uhf","text":"        form.instance.author = self.request.user","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4pvbd","text":"        return super().form_valid(form)","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"190m9","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7rk75","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"boa0i","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"abms4","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"748rs","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"en9u4","text":"Important:","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"73cjh","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9g0n8","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"48fhp","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1q6ma","text":"# now once the post is created or updated you need to redirect the page to somewhere","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3ef58","text":"# for that in the model define ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dvdj4","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8ki26","text":"    def get_absolute_url(self):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d3acn","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8764g","text":"        return reverse('blog-home')","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7n8oh","text":"        #or ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9dj6q","text":"        return reversr('post-detail', kwargs={'pk':self.pk}) ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3rnf4","text":"        #here we are providing the kwargs that the url needs as if you notice","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dr38g","text":"        #post-detail url needs pk ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d9jsu","text":"        #path('post/<int:pk>/', PostDetailView.as_view(), name='post-detail'),","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":64,"length":11,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"epqvs","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5tabl","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"nktb","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8f1k8","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2llgq","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bbq95","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3dk9k","text":"4. UpdateView to update a particular post","type":"header-three","depth":0,"inlineStyleRanges":[{"offset":3,"length":10,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"bb37k","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ci25i","text":"class PostUpdateView(LoginRequiredMixin, UserPassesTestMixin, UpdateView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":21,"length":18,"style":"BOLD"},{"offset":41,"length":19,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"7o455","text":"    #now if you wish to render form you need to create a template as model_form.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"er3jj","text":"    #so in this case post_form.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4g30f","text":"                                \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"39d3g","text":"                            Corresponding template:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":28,"length":23,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"ame4l","text":"                               blog/post_form.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":36,"length":14,"style":"ITALIC"},{"offset":36,"length":14,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"6mh8e","text":"                           OR ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f9e3b","text":"                           template_name = mycreateform.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":26,"length":34,"style":"BOLD"},{"offset":26,"length":34,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"4upla","text":"                            ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cgud8","text":"                            Corresponding path:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":28,"length":19,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"91ae9","text":"                       path('post/<int:pk>/update/', PostUpdateView.as_view(), name='post-update')","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a4apa","text":"                            \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d6kla","text":"        ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fsc07","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"75e6r","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4um96","text":"    model = Post","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fsk12","text":"    fields = ['content','title']","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"27gvl","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8hdv5","text":"                                    \"\"\" ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cj1tt","text":"                                    #We are setting author to current logged in user","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bufm","text":"                                    \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"349d9","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c827n","text":"    def form_valid(self, form): ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4knbv","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"627em","text":"        form.instance.author = self.request.user","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4r3sb","text":"        return super().form_valid(form)","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8hafq","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"823vu","text":"                       ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ep76r","text":"                        ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1n2fp","text":"                         ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"576cc","text":"                           \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6opvu","text":"                            #this will make sure that the logged in user can update only his posts","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":28,"length":70,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"493g5","text":"                            #you need to import UserPassesTestMixin","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2feb4","text":"                        \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ipou","text":"    ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ee97a","text":"     def test_func(self):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"85ob","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6ed2n","text":"        post = self.get_object() #this will get the post we are trying to update","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5u0i","text":"        if self.request.user == post.author:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7tfmn","text":"            return True","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"88l7f","text":"        return False","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ats1i","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"akkso","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6se3m","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c0nai","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"245nl","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fnu74","text":"5. DeleteView to delete an post object","type":"header-three","depth":0,"inlineStyleRanges":[{"offset":3,"length":10,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"6l1d1","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8p1ad","text":"class PostDeleteView(LoginRequiredMixin, UserPassesTestMixin,DeleteView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b8rf0","text":"                        \"\"\"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c8a0h","text":"                            Corresponding template:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":28,"length":23,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"bviod","text":"                               blog/model_confirm_delete.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":0,"length":61,"style":"BOLD"},{"offset":0,"length":61,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"1avk","text":"                            ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"78oc7","text":"                            Corresponding path:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":28,"length":19,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"4h2pg","text":"                       path('post/<int:pk>/delete/', PostDeleteView.as_view(), name='post-delete')","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":0,"length":98,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"fv20n","text":"                       \"\"\"        ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4b9i9","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"42mpu","text":"    model = Post","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"463q9","text":"    success_url = '/' #this will redirect to home page on successful deletion","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b1oqk","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9rvhk","text":"    def test_func(self):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"952a7","text":"        post = self.get_object()  # this will get the post we are trying to update","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9k5vf","text":"        if self.request.user == post.author:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"eh3g5","text":"            return True","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2gl1d","text":"        return False","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ecudn","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4oket","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"89je1","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a6ro","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2ogj8","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bshnv","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6quju","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9qels","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"etmrj","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ab6si","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5cd6j","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"74eei","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3isq1","text":"from django.urls import path","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9i5v","text":"from . import views","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2kag6","text":"from .views import (PostListView,","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"do5n","text":"                    PostDetailView,","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3effv","text":"                    PostCreateView,","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1mfvi","text":"                    PostUpdateView,","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b07e5","text":"                    PostDeleteView) #class based view","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2ma33","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ff36a","text":"urlpatterns = [","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bot4m","text":"    #path('', views.home, name='blog-home'),","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9gi1g","text":"    path('', PostListView.as_view(), name='blog-home'), #when we use class based method we need as_view() to convert class to view","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ajl2j","text":"    path('post/<int:pk>/', PostDetailView.as_view(), name='post-detail'),","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6kv9b","text":"    path('post/<int:pk>/update/', PostUpdateView.as_view(), name='post-update'),","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5l9dk","text":"    path('post/<int:pk>/delete/', PostDeleteView.as_view(), name='post-delete'),","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9hu1b","text":"    path('post/new/', PostCreateView.as_view(), name='post-create'),","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5hlii","text":"    path('about/', views.about, name='blog-about'),","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bf9mj","text":"]","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cn8jj","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"acngn","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b1g5s","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2fjdc","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bkb4m","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"33v6r","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1tfu3","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7safv","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ct77f","text":"Notes:","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c421b","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8i2rv","text":"from django.views.generic import ListView ,DetailView, CreateView ,DeleteView,UpdateView","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f9r1","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9kt3p","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"60n41","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"41aog","text":"#Class based view","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9387l","text":"#ListView for listing all the views","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"afemn","text":"class PostListView(ListView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b9ls1","text":"    model = Post","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f53um","text":"    #<app>/<model>_<viewtype>.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"uqb5","text":"    template_name = 'blog/home.html'","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1k84o","text":"    #either use the below or just go with object_list'","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f146q","text":"    #this is the key we use in context or else we would have to use name 'object_list'","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dkcmm","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3attq","text":"    context_object_name = 'posts'","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5p749","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9qa0o","text":"    #to change the order","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4bp2p","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dt8fc","text":"    ordering = ['date_posted'] #this will latest to olders","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5u5ad","text":"    #ordering = ['-date_posted']  #this will oldest to eldest","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5csgt","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"efv47","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"99u40","text":"class PostDetailView(DetailView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9hqcl","text":"    model = Post","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b19bl","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"424v4","text":" #this will by default look for template in <app>/<modelname>_<viewtype>.html and so we need to create blog/post_detail.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6shmk","text":"# alternatively we can set the variable template_name = 'blog/home.html' in case we want to specify the template to render","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3am8o","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f6vee","text":"class PostCreateView(CreateView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cjpg6","text":"    #now if you wish to render form you need to create a template as model_form.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"tfv6","text":"    #so in this case post_form.html","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"asmcj","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a2mid","text":"    model = Post","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1tnn0","text":"    fields = ['content','title']","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2suj1","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"36ges","text":"    def form_valid(self, form): #to set the author we are setting author to current logged in user","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"frvps","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"deh83","text":"        form.instance.author = self.request.user","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"118og","text":"        return super().form_valid(form)","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ddkno","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fakdn","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8nll4","text":"      ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fb7jd","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fsnc0","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7a38h","text":"Remeber that we cant use login_required decorator in class based views","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"pl5h","text":"here we need to use mixins LoginRequiredMixin","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":27,"length":18,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"6ket4","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"29dm1","text":"from django.contrib.auth.mixins import LoginRequiredMixin","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c6tul","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cr1o3","text":"class PostCreateView(LoginRequiredMixin,CreateView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":21,"length":18,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"61udu","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1khmg","text":"and now set the logged in user as the author of the post","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5b2pd","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cmrlk","text":"def form_valid(self, form): ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b1nn7","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1eckm","text":"        form.instance.author = self.request.user","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3gesl","text":"        return super().form_valid(form)","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"70e9h","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b73ng","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a4qmi","text":"Now if you want to make sure that only the owner of a post can change the conents of the post","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"92tmk","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5m3qh","text":"we need to use UserPassesTestMixin","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":15,"length":19,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"e0bfh","text":"from django.contrib.auth.mixins import LoginRequiredMixin , UserPassesTestMixin ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":60,"length":20,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"cm29c","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3c1mo","text":"class PostUpdateView(LoginRequiredMixin, UserPassesTestMixin, UpdateView):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":41,"length":19,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"bua7o","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8ftdl","text":"and put a method to check","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9oe34","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"abhn8","text":"    def test_func(self):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6nenr","text":"        ","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bq7fq","text":"        post=self.get_object() #this will get the post we are trying to update","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4rvcs","text":"        if self.request.user == post.author:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f1qq7","text":"            return True","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8cana","text":"        return False","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4028u","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9q2lr","text":"","type":"divider","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4b8fb","text":"","type":"header-three","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"shgp","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cu2iu","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"89lrj","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}],"entityMap":{}},"tags":[]}
