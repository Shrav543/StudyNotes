{"_id":"Sy-jTlwmhU","title":"Relationships","dateCreated":1591075011473,"lastAccessed":"2020-06-02T05:16:51.477Z","lastUpdated":"2020-06-05T12:17:58.448Z","notebookId":"SJTrjMM3U","body":{"blocks":[{"key":"ag6qs","text":"Relationships","type":"header-one","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1ivil","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a2g2g","text":"1. Many-to-many relationships¶","type":"header-two","depth":0,"inlineStyleRanges":[{"offset":0,"length":29,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"2nv5e","text":"To define a many-to-many relationship, use ManyToManyField.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":43,"length":15,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"109ft","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6pq9h","text":"In this example, an Article can be published in multiple Publication objects, and a Publication has multiple Article objects:","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7cqij","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6n91p","text":"2.Many-to-one relationships¶","type":"header-two","depth":0,"inlineStyleRanges":[{"offset":0,"length":28,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"cet7g","text":"To define a many-to-one relationship, use ForeignKey:","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b3cc3","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"17tv2","text":"from django.db import models","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5ilca","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9v25k","text":"class Reporter(models.Model):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7lvuj","text":"    first_name = models.CharField(max_length=30)","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9lq3g","text":"    last_name = models.CharField(max_length=30)","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9bjg2","text":"    email = models.EmailField()","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dct39","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7vl2r","text":"    def __str__(self):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"b8o03","text":"        return \"%s %s\" % (self.first_name, self.last_name)","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c6fe5","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"rdjv","text":"class Article(models.Model):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fhml3","text":"    headline = models.CharField(max_length=100)","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3plib","text":"    pub_date = models.DateField()","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"evui1","text":"    reporter = models.ForeignKey(Reporter, on_delete=models.CASCADE) # that means if the reporter is deteted all his aritcles will be deleted","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":3,"length":138,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"cn45a","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8umlp","text":"    def __str__(self):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ckj51","text":"        return self.headline","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6pgcu","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5d5c2","text":"    class Meta:","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"42v2j","text":"        ordering = ['headline']","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"90vdn","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1h4a1","text":"","type":"header-two","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"82b9u","text":"","type":"header-two","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5c4l7","text":"3.One-to-one relationships¶","type":"header-two","depth":0,"inlineStyleRanges":[{"offset":0,"length":27,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"7nqq1","text":"To define a one-to-one relationship, use OneToOneField.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c8c7c","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ag26n","text":"In this example, a Place optionally can be a Restaurant:","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"93b3h","text":"from django.db import models","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"59no4","text":"from django.contrib.auth.models import User","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cevr5","text":"","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"60eef","text":"class profile(models.Model):","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c6b3b","text":"    user = models.OneToOneField(User, on_delete=models.CASCADE) # that means if the user is deleted , delete the profiles too","type":"custom-code-block-python","depth":0,"inlineStyleRanges":[{"offset":4,"length":121,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"59kd9","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}],"entityMap":{}},"tags":[]}
